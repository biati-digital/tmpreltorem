(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define("glightbox",[],i);else if(typeof exports==="object")exports["glightbox"]=i();else t["glightbox"]=i()})(this,(function(){return(()=>{"use strict";var e={};(()=>{e.d=(t,i)=>{for(var s in i){if(e.o(i,s)&&!e.o(t,s)){Object.defineProperty(t,s,{enumerable:true,get:i[s]})}}}})();(()=>{e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();var t={};e.d(t,{default:()=>ae});const i=Date.now();function s(){let e={};let t=true;let i=0;let n=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){t=arguments[0];i++}let l=i=>{for(let n in i){if(Object.prototype.hasOwnProperty.call(i,n)){if(t&&Object.prototype.toString.call(i[n])==="[object Object]"){e[n]=s(true,e[n],i[n])}else{e[n]=i[n]}}}};for(;i<n;i++){let e=arguments[i];l(e)}return e}function n(e,t){if(A(e)||e===window||e===document){e=[e]}if(!I(e)&&!k(e)){e=[e]}if(z(e)==0){return}if(I(e)&&!k(e)){let i=e.length,s=0;for(;s<i;s++){if(t.call(e[s],e[s],s,e)===false){break}}}else if(k(e)){for(let i in e){if(P(e,i)){if(t.call(e[i],e[i],i,e)===false){break}}}}}function l(e,t=null,s=null){const l=e[i]=e[i]||[];const o={all:l,evt:null,found:null};if(t&&s&&z(l)>0){n(l,((e,i)=>{if(e.eventName==t&&e.fn.toString()==s.toString()){o.found=true;o.evt=i;return false}}))}return o}function o(e,{onElement:t,withCallback:i,avoidDuplicate:s=true,once:o=false,useCapture:r=false}={},a){let h=t||[];if(E(h)){h=document.querySelectorAll(h)}function d(e){if(C(i)){i.call(a,e,this)}if(o){d.destroy()}}d.destroy=function(){n(h,(t=>{const i=l(t,e,d);if(i.found){i.all.splice(i.evt,1)}if(t.removeEventListener){t.removeEventListener(e,d,r)}}))};n(h,(t=>{const i=l(t,e,d);if(t.addEventListener&&(s&&!i.found)||!s){t.addEventListener(e,d,r);i.all.push({eventName:e,fn:d})}}));return d}function r(e,t){n(t.split(" "),(t=>e.classList.add(t)))}function a(e,t){n(t.split(" "),(t=>e.classList.remove(t)))}function h(e,t){return e.classList.contains(t)}function d(e,t){while(e!==document.body){e=e.parentElement;if(!e){return false}const i=typeof e.matches=="function"?e.matches(t):e.msMatchesSelector(t);if(i){return e}}}function c(e,t="",i=false){if(!e||t===""){return false}if(t=="none"){if(C(i)){i()}return false}const s=v();const l=t.split(" ");n(l,(t=>{r(e,"g"+t)}));o(s,{onElement:e,avoidDuplicate:false,once:true,withCallback:(e,t)=>{n(l,(e=>{a(t,"g"+e)}));if(C(i)){i()}}})}function u(e,t=""){if(t==""){e.style.webkitTransform="";e.style.MozTransform="";e.style.msTransform="";e.style.OTransform="";e.style.transform="";return false}e.style.webkitTransform=t;e.style.MozTransform=t;e.style.msTransform=t;e.style.OTransform=t;e.style.transform=t}function f(e){e.style.display="block"}function g(e){e.style.display="none"}function p(e){let t=document.createDocumentFragment(),i=document.createElement("div");i.innerHTML=e;while(i.firstChild){t.appendChild(i.firstChild)}return t}function m(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function v(){let e,t=document.createElement("fakeelement");let i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i){if(t.style[e]!==void 0){return i[e]}}}function y(){let e,t=document.createElement("fakeelement");const i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i){if(t.style[e]!==void 0){return i[e]}}}function x(e){let{url:t,allow:i,callback:s,appendTo:n}=e;let l=document.createElement("iframe");l.className="vimeo-video gvideo";l.src=t;l.style.width="100%";l.style.height="100%";if(i){l.setAttribute("allow",i)}l.onload=function(){r(l,"node-ready");if(C(s)){s()}};if(n){n.appendChild(l)}return l}function b(e,t,i,s){if(e()){t();return}if(!i){i=100}let n;let l=setInterval((()=>{if(!e()){return}clearInterval(l);if(n){clearTimeout(n)}t()}),i);if(s){n=setTimeout((()=>{clearInterval(l)}),s)}}function S(e,t,i){if(O(e)){console.error("Inject assets error");return}if(C(t)){i=t;t=false}if(E(t)&&t in window){if(C(i)){i()}return}let s;if(e.indexOf(".css")!==-1){s=document.querySelectorAll('link[href="'+e+'"]');if(s&&s.length>0){if(C(i)){i()}return}const t=document.getElementsByTagName("head")[0];const n=t.querySelectorAll('link[rel="stylesheet"]');const l=document.createElement("link");l.rel="stylesheet";l.type="text/css";l.href=e;l.media="all";if(n){t.insertBefore(l,n[0])}else{t.appendChild(l)}if(C(i)){i()}return}s=document.querySelectorAll('script[src="'+e+'"]');if(s&&s.length>0){if(C(i)){if(E(t)){b((()=>typeof window[t]!=="undefined"),(()=>{i()}));return false}i()}return}let n=document.createElement("script");n.type="text/javascript";n.src=e;n.onload=()=>{if(C(i)){if(E(t)){b((()=>typeof window[t]!=="undefined"),(()=>{i()}));return false}i()}};document.body.appendChild(n);return}function w(){return false}function T(){return w()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints}function C(e){return typeof e==="function"}function E(e){return typeof e==="string"}function A(e){return!!(e&&e.nodeType&&e.nodeType==1)}function L(e){return Array.isArray(e)}function I(e){return e&&e.length&&isFinite(e.length)}function k(e){let t=typeof e;return t==="object"&&(e!=null&&!C(e)&&!L(e))}function O(e){return e==null}function P(e,t){return e!==null&&hasOwnProperty.call(e,t)}function z(e){if(k(e)){if(e.keys){return e.keys().length}let t=0;for(let i in e){if(P(e,i)){t++}}return t}else{return e.length}}function X(e){return!isNaN(parseFloat(e))&&isFinite(e)}function M(e=-1){const t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length){return false}if(t.length==1){return t[0]}if(typeof e=="string"){e=parseInt(e)}let i=e<0?1:e+1;if(i>t.length){i="1"}const s=[];n(t,(e=>{s.push(e.getAttribute("data-taborder"))}));const l=s.filter((e=>e>=parseInt(i)));const o=l.sort()[0];return document.querySelector(`.gbtn[data-taborder="${o}"]`)}function Y(e){if(e.events.hasOwnProperty("keyboard")){return false}e.events["keyboard"]=o("keydown",{onElement:window,withCallback:(t,i)=>{t=t||window.event;const s=t.keyCode;if(s==9){const e=document.querySelector(".gbtn.focused");if(!e){const e=document.activeElement&&document.activeElement.nodeName?document.activeElement.nodeName.toLocaleLowerCase():false;if(e=="input"||e=="textarea"||e=="button"){return}}t.preventDefault();const i=document.querySelectorAll(".gbtn[data-taborder]");if(!i||i.length<=0){return}if(!e){const e=M();if(e){e.focus();r(e,"focused")}return}let s=e.getAttribute("data-taborder");let n=M(s);a(e,"focused");if(n){n.focus();r(n,"focused")}}if(s==39){e.nextSlide()}if(s==37){e.prevSlide()}if(s==27){e.close()}}})}function q(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function N(e,t){return e.x*t.x+e.y*t.y}function D(e,t){var i=q(e)*q(t);if(i===0){return 0}var s=N(e,t)/i;if(s>1){s=1}return Math.acos(s)}function _(e,t){return e.x*t.y-t.x*e.y}function W(e,t){var i=D(e,t);if(_(e,t)>0){i*=-1}return i*180/Math.PI}class ${constructor(e){this.handlers=[];this.el=e}add(e){this.handlers.push(e)}del(e){if(!e){this.handlers=[]}for(var t=this.handlers.length;t>=0;t--){if(this.handlers[t]===e){this.handlers.splice(t,1)}}}dispatch(){for(var e=0,t=this.handlers.length;e<t;e++){var i=this.handlers[e];if(typeof i==="function"){i.apply(this.el,arguments)}}}}function B(e,t){var i=new $(e);i.add(t);return i}class H{constructor(e,t){this.element=typeof e=="string"?document.querySelector(e):e;this.start=this.start.bind(this);this.move=this.move.bind(this);this.end=this.end.bind(this);this.cancel=this.cancel.bind(this);this.element.addEventListener("touchstart",this.start,false);this.element.addEventListener("touchmove",this.move,false);this.element.addEventListener("touchend",this.end,false);this.element.addEventListener("touchcancel",this.cancel,false);this.preV={x:null,y:null};this.pinchStartLen=null;this.zoom=1;this.isDoubleTap=false;var i=function(){};this.rotate=B(this.element,t.rotate||i);this.touchStart=B(this.element,t.touchStart||i);this.multipointStart=B(this.element,t.multipointStart||i);this.multipointEnd=B(this.element,t.multipointEnd||i);this.pinch=B(this.element,t.pinch||i);this.swipe=B(this.element,t.swipe||i);this.tap=B(this.element,t.tap||i);this.doubleTap=B(this.element,t.doubleTap||i);this.longTap=B(this.element,t.longTap||i);this.singleTap=B(this.element,t.singleTap||i);this.pressMove=B(this.element,t.pressMove||i);this.twoFingerPressMove=B(this.element,t.twoFingerPressMove||i);this.touchMove=B(this.element,t.touchMove||i);this.touchEnd=B(this.element,t.touchEnd||i);this.touchCancel=B(this.element,t.touchCancel||i);this.translateContainer=this.element;this._cancelAllHandler=this.cancelAll.bind(this);window.addEventListener("scroll",this._cancelAllHandler);this.delta=null;this.last=null;this.now=null;this.tapTimeout=null;this.singleTapTimeout=null;this.longTapTimeout=null;this.swipeTimeout=null;this.x1=this.x2=this.y1=this.y2=null;this.preTapPosition={x:null,y:null}}start(e){if(!e.touches){return}const t=["a","button","input"];if(e.target&&e.target.nodeName&&t.indexOf(e.target.nodeName.toLowerCase())>=0){console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase());return}this.now=Date.now();this.x1=e.touches[0].pageX;this.y1=e.touches[0].pageY;this.delta=this.now-(this.last||this.now);this.touchStart.dispatch(e,this.element);if(this.preTapPosition.x!==null){this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30;if(this.isDoubleTap){clearTimeout(this.singleTapTimeout)}}this.preTapPosition.x=this.x1;this.preTapPosition.y=this.y1;this.last=this.now;var i=this.preV,s=e.touches.length;if(s>1){this._cancelLongTap();this._cancelSingleTap();var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};i.x=n.x;i.y=n.y;this.pinchStartLen=q(i);this.multipointStart.dispatch(e,this.element)}this._preventTap=false;this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element);this._preventTap=true}.bind(this),750)}move(e){if(!e.touches){return}var t=this.preV,i=e.touches.length,s=e.touches[0].pageX,n=e.touches[0].pageY;this.isDoubleTap=false;if(i>1){var l=e.touches[1].pageX,o=e.touches[1].pageY;var r={x:e.touches[1].pageX-s,y:e.touches[1].pageY-n};if(t.x!==null){if(this.pinchStartLen>0){e.zoom=q(r)/this.pinchStartLen;this.pinch.dispatch(e,this.element)}e.angle=W(r,t);this.rotate.dispatch(e,this.element)}t.x=r.x;t.y=r.y;if(this.x2!==null&&this.sx2!==null){e.deltaX=(s-this.x2+l-this.sx2)/2;e.deltaY=(n-this.y2+o-this.sy2)/2}else{e.deltaX=0;e.deltaY=0}this.twoFingerPressMove.dispatch(e,this.element);this.sx2=l;this.sy2=o}else{if(this.x2!==null){e.deltaX=s-this.x2;e.deltaY=n-this.y2;var a=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);if(a>10||h>10){this._preventTap=true}}else{e.deltaX=0;e.deltaY=0}this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element);this._cancelLongTap();this.x2=s;this.y2=n;if(i>1){e.preventDefault()}}end(e){if(!e.changedTouches){return}this._cancelLongTap();var t=this;if(e.touches.length<2){this.multipointEnd.dispatch(e,this.element);this.sx2=this.sy2=null}if(this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30){e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2);this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)}else{this.tapTimeout=setTimeout((function(){if(!t._preventTap){t.tap.dispatch(e,t.element)}if(t.isDoubleTap){t.doubleTap.dispatch(e,t.element);t.isDoubleTap=false}}),0);if(!t.isDoubleTap){t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250)}}this.touchEnd.dispatch(e,this.element);this.preV.x=0;this.preV.y=0;this.zoom=1;this.pinchStartLen=null;this.x1=this.x2=this.y1=this.y2=null}cancelAll(){this._preventTap=true;clearTimeout(this.singleTapTimeout);clearTimeout(this.tapTimeout);clearTimeout(this.longTapTimeout);clearTimeout(this.swipeTimeout)}cancel(e){this.cancelAll();this.touchCancel.dispatch(e,this.element)}_cancelLongTap(){clearTimeout(this.longTapTimeout)}_cancelSingleTap(){clearTimeout(this.singleTapTimeout)}_swipeDirection(e,t,i,s){return Math.abs(e-t)>=Math.abs(i-s)?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}on(e,t){if(this[e]){this[e].add(t)}}off(e,t){if(this[e]){this[e].del(t)}}destroy(){if(this.singleTapTimeout){clearTimeout(this.singleTapTimeout)}if(this.tapTimeout){clearTimeout(this.tapTimeout)}if(this.longTapTimeout){clearTimeout(this.longTapTimeout)}if(this.swipeTimeout){clearTimeout(this.swipeTimeout)}this.element.removeEventListener("touchstart",this.start);this.element.removeEventListener("touchmove",this.move);this.element.removeEventListener("touchend",this.end);this.element.removeEventListener("touchcancel",this.cancel);this.rotate.del();this.touchStart.del();this.multipointStart.del();this.multipointEnd.del();this.pinch.del();this.swipe.del();this.tap.del();this.doubleTap.del();this.longTap.del();this.singleTap.del();this.pressMove.del();this.twoFingerPressMove.del();this.touchMove.del();this.touchEnd.del();this.touchCancel.del();this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null;window.removeEventListener("scroll",this._cancelAllHandler);return null}}function j(e){const t=y();const i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;let s=h(e,"gslide-media")?e:e.querySelector(".gslide-media");let n=d(s,".ginner-container");let l=e.querySelector(".gslide-description");if(i>769){s=n}r(s,"greset");u(s,"translate3d(0, 0, 0)");o(t,{onElement:s,once:true,withCallback:(e,t)=>{a(s,"greset")}});s.style.opacity="";if(l){l.style.opacity=""}}function V(e){if(e.events.hasOwnProperty("touch")){return false}let t=m();let i=t.width;let s=t.height;let n=false;let l=null;let o=null;let c=null;let f=false;let g=1;let p=4.5;let v=1;let y=false;let x=false;let b=null;let S=null;let w=null;let T=null;let C;let E;let A=0;let L=0;let I=false;let k=false;let O={};let P={};let z=0;let X=0;let M;const Y=document.getElementById("glightbox-slider");const q=document.querySelector(".goverlay");const N=new H(Y,{touchStart:t=>{n=true;if(h(t.targetTouches[0].target,"ginner-container")||d(t.targetTouches[0].target,".gslide-desc")||t.targetTouches[0].target.nodeName.toLowerCase()=="a"){n=false}if(d(t.targetTouches[0].target,".gslide-inline")&&!h(t.targetTouches[0].target.parentNode,"gslide-inline")){n=false}if(n){P=t.targetTouches[0];O.pageX=t.targetTouches[0].pageX;O.pageY=t.targetTouches[0].pageY;z=t.targetTouches[0].clientX;X=t.targetTouches[0].clientY;l=e.activeSlide;o=l.querySelector(".gslide-media");M=l.querySelector(".gslide-inline");c=null;if(h(o,"gslide-image")){c=o.querySelector("img")}const i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(i>769){o=l.querySelector(".ginner-container")}a(q,"greset");if(t.pageX>20&&t.pageX<window.innerWidth-20){return}t.preventDefault()}},touchMove:t=>{if(!n){return}P=t.targetTouches[0];if(y||x){return}if(M&&M.offsetHeight>s){const e=O.pageX-P.pageX;if(Math.abs(e)<=13){return false}}f=true;let l=t.targetTouches[0].clientX;let r=t.targetTouches[0].clientY;let a=z-l;let h=X-r;if(Math.abs(a)>Math.abs(h)){I=false;k=true}else{k=false;I=true}C=P.pageX-O.pageX;A=C*100/i;E=P.pageY-O.pageY;L=E*100/s;let d;if(I&&c){d=1-Math.abs(E)/s;q.style.opacity=d;if(e.settings.touchFollowAxis){A=0}}if(k){d=1-Math.abs(C)/i;o.style.opacity=d;if(e.settings.touchFollowAxis){L=0}}if(!c){return u(o,`translate3d(${A}%, 0, 0)`)}u(o,`translate3d(${A}%, ${L}%, 0)`)},touchEnd:()=>{if(!n){return}f=false;if(x||y){w=b;T=S;return}const t=Math.abs(parseInt(L));const i=Math.abs(parseInt(A));if(t>29&&c){e.close();return}if(t<29&&i<25){r(q,"greset");q.style.opacity=1;return j(o)}},multipointEnd:()=>{setTimeout((()=>{y=false}),50)},multipointStart:()=>{y=true;g=v?v:1},pinch:e=>{if(!c||f){return false}y=true;c.scaleX=c.scaleY=g*e.zoom;let t=g*e.zoom;x=true;if(t<=1){x=false;t=1;T=null;w=null;b=null;S=null;c.setAttribute("style","");return}if(t>p){t=p}c.style.transform=`scale3d(${t}, ${t}, 1)`;v=t},pressMove:e=>{if(x&&!y){var t=P.pageX-O.pageX;var i=P.pageY-O.pageY;if(w){t=t+w}if(T){i=i+T}b=t;S=i;let e=`translate3d(${t}px, ${i}px, 0)`;if(v){e+=` scale3d(${v}, ${v}, 1)`}u(c,e)}},swipe:t=>{if(x){return}if(y){y=false;return}if(t.direction=="Left"){if(e.index==e.elements.length-1){return j(o)}e.nextSlide()}if(t.direction=="Right"){if(e.index==0){return j(o)}e.prevSlide()}}});e.events["touch"]=N}class R{constructor(e,t,i=null){this.img=e;this.slide=t;this.onclose=i;if(this.img.setZoomEvents){return false}this.active=false;this.zoomedIn=false;this.dragging=false;this.currentX=null;this.currentY=null;this.initialX=null;this.initialY=null;this.xOffset=0;this.yOffset=0;this.img.addEventListener("mousedown",(e=>this.dragStart(e)),false);this.img.addEventListener("mouseup",(e=>this.dragEnd(e)),false);this.img.addEventListener("mousemove",(e=>this.drag(e)),false);this.img.addEventListener("click",(e=>{if(this.slide.classList.contains("dragging-nav")){this.zoomOut();return false}if(!this.zoomedIn){return this.zoomIn()}if(this.zoomedIn&&!this.dragging){this.zoomOut()}}),false);this.img.setZoomEvents=true}zoomIn(){let e=this.widowWidth();if(this.zoomedIn||e<=768){return}const t=this.img;t.setAttribute("data-style",t.getAttribute("style"));t.style.maxWidth=t.naturalWidth+"px";t.style.maxHeight=t.naturalHeight+"px";if(t.naturalWidth>e){let i=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add("zoomed");this.zoomedIn=true}zoomOut(){this.img.parentNode.setAttribute("style","");this.img.setAttribute("style",this.img.getAttribute("data-style"));this.slide.classList.remove("zoomed");this.zoomedIn=false;this.currentX=null;this.currentY=null;this.initialX=null;this.initialY=null;this.xOffset=0;this.yOffset=0;if(this.onclose&&typeof this.onclose=="function"){this.onclose()}}dragStart(e){e.preventDefault();if(!this.zoomedIn){this.active=false;return}if(e.type==="touchstart"){this.initialX=e.touches[0].clientX-this.xOffset;this.initialY=e.touches[0].clientY-this.yOffset}else{this.initialX=e.clientX-this.xOffset;this.initialY=e.clientY-this.yOffset}if(e.target===this.img){this.active=true;this.img.classList.add("dragging")}}dragEnd(e){e.preventDefault();this.initialX=this.currentX;this.initialY=this.currentY;this.active=false;setTimeout((()=>{this.dragging=false;this.img.isDragging=false;this.img.classList.remove("dragging")}),100)}drag(e){if(this.active){e.preventDefault();if(e.type==="touchmove"){this.currentX=e.touches[0].clientX-this.initialX;this.currentY=e.touches[0].clientY-this.initialY}else{this.currentX=e.clientX-this.initialX;this.currentY=e.clientY-this.initialY}this.xOffset=this.currentX;this.yOffset=this.currentY;this.img.isDragging=true;this.dragging=true;this.setTranslate(this.img,this.currentX,this.currentY)}}onMove(e){if(!this.zoomedIn){return}let t=e.clientX-this.img.naturalWidth/2;let i=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,i)}setTranslate(e,t,i){e.style.transform="translate3d("+t+"px, "+i+"px, 0)"}widowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}class F{constructor(e={}){let{dragEl:t,toleranceX:i=40,toleranceY:s=65,slide:n=null,instance:l=null}=e;this.el=t;this.active=false;this.dragging=false;this.currentX=null;this.currentY=null;this.initialX=null;this.initialY=null;this.xOffset=0;this.yOffset=0;this.direction=null;this.lastDirection=null;this.toleranceX=i;this.toleranceY=s;this.toleranceReached=false;this.dragContainer=this.el;this.slide=n;this.instance=l;this.el.addEventListener("mousedown",(e=>this.dragStart(e)),false);this.el.addEventListener("mouseup",(e=>this.dragEnd(e)),false);this.el.addEventListener("mousemove",(e=>this.drag(e)),false)}dragStart(e){if(this.slide.classList.contains("zoomed")){this.active=false;return}if(e.type==="touchstart"){this.initialX=e.touches[0].clientX-this.xOffset;this.initialY=e.touches[0].clientY-this.yOffset}else{this.initialX=e.clientX-this.xOffset;this.initialY=e.clientY-this.yOffset}let t=e.target.nodeName.toLowerCase();let i=["input","select","textarea","button","a"];if(e.target.classList.contains("nodrag")||d(e.target,".nodrag")||i.indexOf(t)!==-1){this.active=false;return}e.preventDefault();if(e.target===this.el||t!=="img"&&d(e.target,".gslide-inline")){this.active=true;this.el.classList.add("dragging");this.dragContainer=d(e.target,".ginner-container")}}dragEnd(e){e&&e.preventDefault();this.initialX=0;this.initialY=0;this.currentX=null;this.currentY=null;this.initialX=null;this.initialY=null;this.xOffset=0;this.yOffset=0;this.active=false;if(this.doSlideChange){this.instance.preventOutsideClick=true;this.doSlideChange=="right"&&this.instance.prevSlide();this.doSlideChange=="left"&&this.instance.nextSlide()}if(this.doSlideClose){this.instance.close()}if(!this.toleranceReached){this.setTranslate(this.dragContainer,0,0,true)}setTimeout((()=>{this.instance.preventOutsideClick=false;this.toleranceReached=false;this.lastDirection=null;this.dragging=false;this.el.isDragging=false;this.el.classList.remove("dragging");this.slide.classList.remove("dragging-nav");this.dragContainer.style.transform="";this.dragContainer.style.transition=""}),100)}drag(e){if(this.active){e.preventDefault();this.slide.classList.add("dragging-nav");if(e.type==="touchmove"){this.currentX=e.touches[0].clientX-this.initialX;this.currentY=e.touches[0].clientY-this.initialY}else{this.currentX=e.clientX-this.initialX;this.currentY=e.clientY-this.initialY}this.xOffset=this.currentX;this.yOffset=this.currentY;this.el.isDragging=true;this.dragging=true;this.doSlideChange=false;this.doSlideClose=false;let t=Math.abs(this.currentX);let i=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0;this.lastDirection="x";this.setTranslate(this.dragContainer,this.currentX,0);let e=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&e){this.doSlideChange=e}if(this.instance.settings.dragAutoSnap&&e){this.instance.preventOutsideClick=true;this.toleranceReached=true;this.active=false;this.instance.preventOutsideClick=true;this.dragEnd(null);e=="right"&&this.instance.prevSlide();e=="left"&&this.instance.nextSlide();return}}if(this.toleranceY>0&&i>0&&i>=t&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0;this.lastDirection="y";this.setTranslate(this.dragContainer,0,this.currentY);let e=this.shouldClose();if(!this.instance.settings.dragAutoSnap&&e){this.doSlideClose=true}if(this.instance.settings.dragAutoSnap&&e){this.instance.close()}return}}}shouldChange(){let e=false;let t=Math.abs(this.currentX);if(t>=this.toleranceX){let t=this.currentX>0?"right":"left";if(t=="left"&&this.slide!==this.slide.parentNode.lastChild||t=="right"&&this.slide!==this.slide.parentNode.firstChild){e=t}}return e}shouldClose(){let e=false;let t=Math.abs(this.currentY);if(t>=this.toleranceY){e=true}return e}setTranslate(e,t,i,s=false){if(s){e.style.transition="all .2s ease"}else{e.style.transition=""}e.style.transform=`translate3d(${t}px, ${i}px, 0)`}}function G(e,t,i,s){const n=e.querySelector(".gslide-media");let l=new Image;let o="gSlideTitle_"+i;let r="gSlideDesc_"+i;l.addEventListener("load",(()=>{if(C(s)){s()}}),false);l.src=t.href;if(t.sizes!=""&&t.srcset!=""){l.sizes=t.sizes;l.srcset=t.srcset}l.alt="";if(!O(t.alt)&&t.alt!==""){l.alt=t.alt}if(t.title!==""){l.setAttribute("aria-labelledby",o)}if(t.description!==""){l.setAttribute("aria-describedby",r)}if(t.hasOwnProperty("_hasCustomWidth")&&t._hasCustomWidth){l.style.width=t.width}if(t.hasOwnProperty("_hasCustomHeight")&&t._hasCustomHeight){l.style.height=t.height}n.insertBefore(l,n.firstChild);return}function Z(e,t,i,s){const n=e.querySelector(".ginner-container");const l="gvideo"+i;const o=e.querySelector(".gslide-media");const a=this.getAllPlayers();r(n,"gvideo-container");o.insertBefore(p('<div class="gvideo-wrapper"></div>'),o.firstChild);const h=e.querySelector(".gvideo-wrapper");S(this.settings.plyr.css,"Plyr");let d=t.href;let c=location.protocol.replace(":","");let u="";let f="";let g=false;if(c=="file"){c="http"}o.style.maxWidth=t.width;S(this.settings.plyr.js,"Plyr",(()=>{if(d.match(/vimeo\.com\/([0-9]*)/)){const e=/vimeo.*\/(\d+)/i.exec(d);u="vimeo";f=e[1]}if(d.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||d.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||d.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)){const e=U(d);u="youtube";f=e}if(d.match(/\.(mp4|ogg|webm|mov)$/)!==null){u="local";let e='<video id="'+l+'" ';e+=`style="background:#000; max-width: ${t.width};" `;e+='preload="metadata" ';e+='x-webkit-airplay="allow" ';e+="playsinline ";e+="controls ";e+='class="gvideo-local">';let i=d.toLowerCase().split(".").pop();let s={mp4:"",ogg:"",webm:""};i=i=="mov"?"mp4":i;s[i]=d;for(let i in s){if(s.hasOwnProperty(i)){let n=s[i];if(t.hasOwnProperty(i)){n=t[i]}if(n!==""){e+=`<source src="${n}" type="video/${i}">`}}}e+="</video>";g=p(e)}const n=g?g:p(`<div id="${l}" data-plyr-provider="${u}" data-plyr-embed-id="${f}"></div>`);r(h,`${u}-video gvideo`);h.appendChild(n);h.setAttribute("data-id",l);h.setAttribute("data-index",i);const o=P(this.settings.plyr,"config")?this.settings.plyr.config:{};const c=new Plyr("#"+l,o);c.on("ready",(e=>{const t=e.detail.plyr;a[l]=t;if(C(s)){s()}}));b((()=>e.querySelector("iframe")&&e.querySelector("iframe").dataset.ready=="true"),(()=>{this.resize(e)}));c.on("enterfullscreen",J);c.on("exitfullscreen",J)}))}function U(e){let t="";e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);if(e[2]!==void 0){t=e[2].split(/[^0-9a-z_\-]/i);t=t[0]}else{t=e}return t}function J(e){const t=d(e.target,".gslide-media");if(e.type=="enterfullscreen"){r(t,"fullscreen")}if(e.type=="exitfullscreen"){a(t,"fullscreen")}}function K(e,t,i,s){const n=e.querySelector(".gslide-media");const l=P(t,"href")&&t.href?t.href.split("#").pop().trim():false;const a=P(t,"content")&&t.content?t.content:false;let h;if(a){if(E(a)){h=p(`<div class="ginlined-content">${a}</div>`)}if(A(a)){if(a.style.display=="none"){a.style.display="block"}const e=document.createElement("div");e.className="ginlined-content";e.appendChild(a);h=e}}if(l){let e=document.getElementById(l);if(!e){return false}const i=e.cloneNode(true);i.style.height=t.height;i.style.maxWidth=t.width;r(i,"ginlined-content");h=i}if(!h){console.error("Unable to append inline slide content",t);return false}n.style.height=t.height;n.style.width=t.width;n.appendChild(h);this.events["inlineclose"+l]=o("click",{onElement:n.querySelectorAll(".gtrigger-close"),withCallback:e=>{e.preventDefault();this.close()}});if(C(s)){s()}return}function Q(e,t,i,s){const n=e.querySelector(".gslide-media");const l=x({url:t.href,callback:s});n.parentNode.style.maxWidth=t.width;n.parentNode.style.height=t.height;n.appendChild(l);return}class ee{constructor(e={}){this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:false,zoomable:true,draggable:true};if(k(e)){this.defaults=s(this.defaults,e)}}sourceType(e){let t=e;e=e.toLowerCase();if(e.match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null){return"image"}if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)){return"video"}if(e.match(/vimeo\.com\/([0-9]*)/)){return"video"}if(e.match(/\.(mp4|ogg|webm|mov)/)!==null){return"video"}if(e.match(/\.(mp3|wav|wma|aac|ogg)/)!==null){return"audio"}if(e.indexOf("#")>-1){let e=t.split("#").pop();if(e.trim()!==""){return"inline"}}if(e.indexOf("goajax=true")>-1){return"ajax"}return"external"}parseConfig(e,t){let i=s({descPosition:t.descPosition},this.defaults);if(k(e)&&!A(e)){if(!P(e,"type")){if(P(e,"content")&&e.content){e.type="inline"}else if(P(e,"href")){e.type=this.sourceType(e.href)}}let n=s(i,e);this.setSize(n,t);return n}let l="";let o=e.getAttribute("data-glightbox");let r=e.nodeName.toLowerCase();if(r==="a"){l=e.href}if(r==="img"){l=e.src;i.alt=e.alt}i.href=l;n(i,((s,n)=>{if(P(t,n)&&n!=="width"){i[n]=t[n]}const l=e.dataset[n];if(!O(l)){i[n]=this.sanitizeValue(l)}}));if(i.content){i.type="inline"}if(!i.type&&l){i.type=this.sourceType(l)}if(!O(o)){let e=[];n(i,((t,i)=>{e.push(";\\s?"+i)}));e=e.join("\\s?:|");if(o.trim()!==""){n(i,((t,s)=>{const n=o;const l="s?"+s+"s?:s?(.*?)("+e+"s?:|$)";const r=new RegExp(l);const a=n.match(r);if(a&&a.length&&a[1]){const e=a[1].trim().replace(/;\s*$/,"");i[s]=this.sanitizeValue(e)}}))}}else{if(!i.title&&r=="a"){let t=e.title;if(!O(t)&&t!==""){i.title=t}}if(!i.title&&r=="img"){let t=e.alt;if(!O(t)&&t!==""){i.title=t}}}if(i.description&&i.description.substring(0,1)==="."){let e;try{e=document.querySelector(i.description).innerHTML}catch(e){if(!(e instanceof DOMException)){throw e}}if(e){i.description=e}}if(!i.description){let t=e.querySelector(".glightbox-desc");if(t){i.description=t.innerHTML}}this.setSize(i,t,e);this.slideConfig=i;return i}setSize(e,t,i=null){const s=e.type=="video"?this.checkSize(t.videosWidth):this.checkSize(t.width);const n=this.checkSize(t.height);e.width=P(e,"width")&&e.width!==""?this.checkSize(e.width):s;e.height=P(e,"height")&&e.height!==""?this.checkSize(e.height):n;if(i&&e.type=="image"){e._hasCustomWidth=i.dataset.width?true:false;e._hasCustomHeight=i.dataset.height?true:false}return e}checkSize(e){return X(e)?`${e}px`:e}sanitizeValue(e){if(e!=="true"&&e!=="false"){return e}return e==="true"}}class te{constructor(e,t,i){this.element=e;this.instance=t;this.index=i}setContent(e=null,t=false){if(h(e,"loaded")){return false}const i=this.instance.settings;const s=this.slideConfig;const n=w();if(C(i.beforeSlideLoad)){i.beforeSlideLoad({index:this.index,slide:e,player:false})}let l=s.type;let o=s.descPosition;let a=e.querySelector(".gslide-media");let d=e.querySelector(".gslide-title");let c=e.querySelector(".gslide-desc");let u=e.querySelector(".gdesc-inner");let f=t;let g="gSlideTitle_"+this.index;let p="gSlideDesc_"+this.index;if(C(i.afterSlideLoad)){f=()=>{if(C(t)){t()}i.afterSlideLoad({index:this.index,slide:e,player:this.instance.getSlidePlayerInstance(this.index)})}}if(s.title==""&&s.description==""){if(u){u.parentNode.parentNode.removeChild(u.parentNode)}}else{if(d&&s.title!==""){d.id=g;d.innerHTML=s.title}else{d.parentNode.removeChild(d)}if(c&&s.description!==""){c.id=p;if(n&&i.moreLength>0){s.smallDescription=this.slideShortDesc(s.description,i.moreLength,i.moreText);c.innerHTML=s.smallDescription;this.descriptionEvents(c,s)}else{c.innerHTML=s.description}}else{c.parentNode.removeChild(c)}r(a.parentNode,`desc-${o}`);r(u.parentNode,`description-${o}`)}r(a,`gslide-${l}`);r(e,"loaded");if(l==="video"){Z.apply(this.instance,[e,s,this.index,f]);return}if(l==="external"){Q.apply(this,[e,s,this.index,f]);return}if(l==="inline"){K.apply(this.instance,[e,s,this.index,f]);if(s.draggable){new F({dragEl:e.querySelector(".gslide-inline"),toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:e,instance:this.instance})}return}if(l==="image"){G(e,s,this.index,(()=>{const t=e.querySelector("img");if(s.draggable){new F({dragEl:t,toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:e,instance:this.instance})}if(s.zoomable&&t.naturalWidth>t.offsetWidth){r(t,"zoomable");new R(t,e,(()=>{this.instance.resize()}))}if(C(f)){f()}}));return}if(C(f)){f()}}slideShortDesc(e,t=50,i=false){let s=document.createElement("div");s.innerHTML=e;let n=s.innerText;let l=i;e=n.trim();if(e.length<=t){return e}let o=e.substr(0,t-1);if(!l){return o}s=null;return o+'... <a href="#" class="desc-more">'+i+"</a>"}descriptionEvents(e,t){let i=e.querySelector(".desc-more");if(!i){return false}o("click",{onElement:i,withCallback:(e,i)=>{e.preventDefault();const s=document.body;let n=d(i,".gslide-desc");if(!n){return false}n.innerHTML=t.description;r(s,"gdesc-open");let l=o("click",{onElement:[s,d(n,".gslide-description")],withCallback:(e,i)=>{if(e.target.nodeName.toLowerCase()!=="a"){a(s,"gdesc-open");r(s,"gdesc-closed");n.innerHTML=t.smallDescription;this.descriptionEvents(n,t);setTimeout((()=>{a(s,"gdesc-closed")}),400);l.destroy()}}})}})}create(){return p(this.instance.settings.slideHTML)}getConfig(){if(!A(this.element)&&!this.element.hasOwnProperty("draggable")){this.element.draggable=this.instance.settings.draggable}const e=new ee(this.instance.settings.slideExtraAttributes);this.slideConfig=e.parseConfig(this.element,this.instance.settings);return this.slideConfig}}const ie="3.1.0";const se=false;const ne=true;const le=false;const oe={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:true,startAt:null,autoplayVideos:true,autofocusVideos:true,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:false,zoomable:true,draggable:true,dragAutoSnap:false,dragToleranceX:40,dragToleranceY:65,preload:true,oneSlidePerOpen:false,touchNavigation:true,touchFollowAxis:true,keyboardNavigation:true,closeOnOutsideClick:true,plugins:false,plyr:{css:"https://cdn.plyr.io/3.6.8/plyr.css",js:"https://cdn.plyr.io/3.6.8/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:true,iosNative:true},youtube:{noCookie:true,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:false,portrait:false,title:false,transparent:false}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'}};oe.slideHTML=`<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>`;oe.lightboxHTML=`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>`;class re{constructor(e={}){this.customOptions=e;this.settings=s(oe,e);this.effectsClasses=this.getAnimationClasses();this.videoPlayers={};this.apiEvents=[];this.fullElementsList=false}async processss(){console.log("do process");console.log("and also do another process yes");console.log("Rammstein");console.log("Supercool");console.log("onepo");console.log("giebelushka")}init(){const e=this.getSelector();if(e){this.baseEvents=o("click",{onElement:e,withCallback:(e,t)=>{e.preventDefault();this.open(t)}})}this.elements=this.getElements()}open(e=null,t=null){if(this.elements.length==0){return false}this.activeSlide=null;this.prevActiveSlideIndex=null;this.prevActiveSlide=null;let i=X(t)?t:this.settings.startAt;if(A(e)){const t=e.getAttribute("data-gallery");if(t){this.fullElementsList=this.elements;this.elements=this.getGalleryElements(this.elements,t)}if(O(i)){i=this.getElementIndex(e);if(i<0){i=0}}}if(!X(i)){i=0}this.build();c(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.in);const s=document.body;const n=window.innerWidth-document.documentElement.clientWidth;if(n>0){var l=document.createElement("style");l.type="text/css";l.className="gcss-styles";l.innerText=`.gscrollbar-fixer {margin-right: ${n}px}`;document.head.appendChild(l);r(s,"gscrollbar-fixer")}r(s,"glightbox-open");r(le,"glightbox-open");if(se){r(document.body,"glightbox-mobile");this.settings.slideEffect="slide"}this.showSlide(i,true);if(this.elements.length==1){r(this.prevButton,"glightbox-button-hidden");r(this.nextButton,"glightbox-button-hidden")}else{a(this.prevButton,"glightbox-button-hidden");a(this.nextButton,"glightbox-button-hidden")}this.lightboxOpen=true;this.trigger("open");if(C(this.settings.onOpen)){this.settings.onOpen()}if(ne&&this.settings.touchNavigation){V(this)}if(this.settings.keyboardNavigation){Y(this)}}openAt(e=0){this.open(null,e)}showSlide(e=0,t=false){f(this.loader);this.index=parseInt(e);let i=this.slidesContainer.querySelector(".current");if(i){a(i,"current")}this.slideAnimateOut();let s=this.slidesContainer.querySelectorAll(".gslide")[e];if(h(s,"loaded")){this.slideAnimateIn(s,t);g(this.loader)}else{f(this.loader);const i=this.elements[e];const n={index:this.index,slide:s,slideNode:s,slideConfig:i.slideConfig,slideIndex:this.index,trigger:i.node,player:null};this.trigger("slide_before_load",n);i.instance.setContent(s,(()=>{g(this.loader);this.resize();this.slideAnimateIn(s,t);this.trigger("slide_after_load",n)}))}this.slideDescription=s.querySelector(".gslide-description");this.slideDescriptionContained=this.slideDescription&&h(this.slideDescription.parentNode,"gslide-media");if(this.settings.preload){this.preloadSlide(e+1);this.preloadSlide(e-1)}this.updateNavigationClasses();this.activeSlide=s}preloadSlide(e){if(e<0||e>this.elements.length-1){return false}if(O(this.elements[e])){return false}let t=this.slidesContainer.querySelectorAll(".gslide")[e];if(h(t,"loaded")){return false}const i=this.elements[e];const s=i.type;const n={index:e,slide:t,slideNode:t,slideConfig:i.slideConfig,slideIndex:e,trigger:i.node,player:null};this.trigger("slide_before_load",n);if(s=="video"||s=="external"){setTimeout((()=>{i.instance.setContent(t,(()=>{this.trigger("slide_after_load",n)}))}),200)}else{i.instance.setContent(t,(()=>{this.trigger("slide_after_load",n)}))}}prevSlide(){this.goToSlide(this.index-1)}nextSlide(){this.goToSlide(this.index+1)}goToSlide(e=false){this.prevActiveSlide=this.activeSlide;this.prevActiveSlideIndex=this.index;if(!this.loop()&&(e<0||e>this.elements.length-1)){return false}if(e<0){e=this.elements.length-1}else if(e>=this.elements.length){e=0}this.showSlide(e)}insertSlide(e={},t=-1){if(t<0){t=this.elements.length}const i=new te(e,this,t);const n=i.getConfig();const l=s({},n);const o=i.create();const r=this.elements.length-1;l.index=t;l.node=false;l.instance=i;l.slideConfig=n;this.elements.splice(t,0,l);let a=null;let h=null;if(this.slidesContainer){if(t>r){this.slidesContainer.appendChild(o)}else{let e=this.slidesContainer.querySelectorAll(".gslide")[t];this.slidesContainer.insertBefore(o,e)}if(this.settings.preload&&this.index==0&&t==0||this.index-1==t||this.index+1==t){this.preloadSlide(t)}if(this.index==0&&t==0){this.index=1}this.updateNavigationClasses();a=this.slidesContainer.querySelectorAll(".gslide")[t];h=this.getSlidePlayerInstance(t);l.slideNode=a}this.trigger("slide_inserted",{index:t,slide:a,slideNode:a,slideConfig:n,slideIndex:t,trigger:null,player:h});if(C(this.settings.slideInserted)){this.settings.slideInserted({index:t,slide:a,player:h})}}removeSlide(e=-1){if(e<0||e>this.elements.length-1){return false}const t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];if(t){if(this.getActiveSlideIndex()==e){if(e==this.elements.length-1){this.prevSlide()}else{this.nextSlide()}}t.parentNode.removeChild(t)}this.elements.splice(e,1);this.trigger("slide_removed",e);if(C(this.settings.slideRemoved)){this.settings.slideRemoved(e)}}slideAnimateIn(e,t){let i=e.querySelector(".gslide-media");let s=e.querySelector(".gslide-description");let n={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:O(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:O(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)};let l={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(i.offsetWidth>0&&s){g(s);s.style.display=""}a(e,this.effectsClasses);if(t){c(e,this.settings.cssEfects[this.settings.openEffect].in,(()=>{if(this.settings.autoplayVideos){this.slidePlayerPlay(e)}this.trigger("slide_changed",{prev:n,current:l});if(C(this.settings.afterSlideChange)){this.settings.afterSlideChange.apply(this,[n,l])}}))}else{let t=this.settings.slideEffect;let i=t!=="none"?this.settings.cssEfects[t].in:t;if(this.prevActiveSlideIndex>this.index){if(this.settings.slideEffect=="slide"){i=this.settings.cssEfects.slideBack.in}}c(e,i,(()=>{if(this.settings.autoplayVideos){this.slidePlayerPlay(e)}this.trigger("slide_changed",{prev:n,current:l});if(C(this.settings.afterSlideChange)){this.settings.afterSlideChange.apply(this,[n,l])}}))}setTimeout((()=>{this.resize(e)}),100);r(e,"current")}slideAnimateOut(){if(!this.prevActiveSlide){return false}let e=this.prevActiveSlide;a(e,this.effectsClasses);r(e,"prev");let t=this.settings.slideEffect;let i=t!=="none"?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e);this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:O(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:O(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}});if(C(this.settings.beforeSlideChange)){this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}])}if(this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"){i=this.settings.cssEfects.slideBack.out}c(e,i,(()=>{let t=e.querySelector(".ginner-container");let i=e.querySelector(".gslide-media");let s=e.querySelector(".gslide-description");t.style.transform="";i.style.transform="";a(i,"greset");i.style.opacity="";if(s){s.style.opacity=""}a(e,"prev")}))}getAllPlayers(){return this.videoPlayers}getSlidePlayerInstance(e){const t="gvideo"+e;const i=this.getAllPlayers();if(P(i,t)&&i[t]){return i[t]}return false}stopSlideVideo(e){if(A(e)){let t=e.querySelector(".gvideo-wrapper");if(t){e=t.getAttribute("data-index")}}console.log("stopSlideVideo is deprecated, use slidePlayerPause");const t=this.getSlidePlayerInstance(e);if(t&&t.playing){t.pause()}}slidePlayerPause(e){if(A(e)){let t=e.querySelector(".gvideo-wrapper");if(t){e=t.getAttribute("data-index")}}const t=this.getSlidePlayerInstance(e);if(t&&t.playing){t.pause()}}playSlideVideo(e){if(A(e)){let t=e.querySelector(".gvideo-wrapper");if(t){e=t.getAttribute("data-index")}}console.log("playSlideVideo is deprecated, use slidePlayerPlay");const t=this.getSlidePlayerInstance(e);if(t&&!t.playing){t.play()}}slidePlayerPlay(e){if(A(e)){let t=e.querySelector(".gvideo-wrapper");if(t){e=t.getAttribute("data-index")}}const t=this.getSlidePlayerInstance(e);if(t&&!t.playing){t.play();if(this.settings.autofocusVideos){t.elements.container.focus()}}}setElements(e){this.settings.elements=false;const t=[];if(e&&e.length){n(e,((e,i)=>{const n=new te(e,this,i);const l=n.getConfig();const o=s({},l);o.slideConfig=l;o.instance=n;o.index=i;t.push(o)}))}this.elements=t;if(this.lightboxOpen){this.slidesContainer.innerHTML="";if(this.elements.length){n(this.elements,(()=>{let e=p(this.settings.slideHTML);this.slidesContainer.appendChild(e)}));this.showSlide(0,true)}}}getElementIndex(e){let t=false;n(this.elements,((i,s)=>{if(P(i,"node")&&i.node==e){t=s;return true}}));return t}getElements(){let e=[];this.elements=this.elements?this.elements:[];if(!O(this.settings.elements)&&L(this.settings.elements)&&this.settings.elements.length){n(this.settings.elements,((t,i)=>{const n=new te(t,this,i);const l=n.getConfig();const o=s({},l);o.node=false;o.index=i;o.instance=n;o.slideConfig=l;e.push(o)}))}let t=false;let i=this.getSelector();if(i){t=document.querySelectorAll(this.getSelector())}if(!t){return e}n(t,((t,i)=>{const n=new te(t,this,i);const l=n.getConfig();const o=s({},l);o.node=t;o.index=i;o.instance=n;o.slideConfig=l;o.gallery=t.getAttribute("data-gallery");e.push(o)}));return e}getGalleryElements(e,t){return e.filter((e=>e.gallery==t))}getSelector(){if(this.settings.elements){return false}if(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"){return`*[${this.settings.selector}]`}return this.settings.selector}getActiveSlide(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}getActiveSlideIndex(){return this.index}getAnimationClasses(){let e=[];for(let t in this.settings.cssEfects){if(this.settings.cssEfects.hasOwnProperty(t)){let i=this.settings.cssEfects[t];e.push(`g${i.in}`);e.push(`g${i.out}`)}}return e.join(" ")}build(){if(this.built){return false}const e=document.body.childNodes;const t=[];n(e,(e=>{if(e.parentNode==document.body&&e.nodeName.charAt(0)!=="#"&&e.hasAttribute&&!e.hasAttribute("aria-hidden")){t.push(e);e.setAttribute("aria-hidden","true")}}));const i=P(this.settings.svg,"next")?this.settings.svg.next:"";const s=P(this.settings.svg,"prev")?this.settings.svg.prev:"";const l=P(this.settings.svg,"close")?this.settings.svg.close:"";let a=this.settings.lightboxHTML;a=a.replace(/{nextSVG}/g,i);a=a.replace(/{prevSVG}/g,s);a=a.replace(/{closeSVG}/g,l);a=p(a);document.body.appendChild(a);const c=document.getElementById("glightbox-body");this.modal=c;let u=c.querySelector(".gclose");this.prevButton=c.querySelector(".gprev");this.nextButton=c.querySelector(".gnext");this.overlay=c.querySelector(".goverlay");this.loader=c.querySelector(".gloader");this.slidesContainer=document.getElementById("glightbox-slider");this.bodyHiddenChildElms=t;this.events={};r(this.modal,"glightbox-"+this.settings.skin);if(this.settings.closeButton&&u){this.events["close"]=o("click",{onElement:u,withCallback:(e,t)=>{e.preventDefault();this.close()}})}if(u&&!this.settings.closeButton){u.parentNode.removeChild(u)}if(this.nextButton){this.events["next"]=o("click",{onElement:this.nextButton,withCallback:(e,t)=>{e.preventDefault();this.nextSlide()}})}if(this.prevButton){this.events["prev"]=o("click",{onElement:this.prevButton,withCallback:(e,t)=>{e.preventDefault();this.prevSlide()}})}if(this.settings.closeOnOutsideClick){this.events["outClose"]=o("click",{onElement:c,withCallback:(e,t)=>{if(!this.preventOutsideClick&&!h(document.body,"glightbox-mobile")&&!d(e.target,".ginner-container")){if(!d(e.target,".gbtn")&&!h(e.target,"gnext")&&!h(e.target,"gprev")){this.close()}}}})}n(this.elements,((e,t)=>{this.slidesContainer.appendChild(e.instance.create());e.slideNode=this.slidesContainer.querySelectorAll(".gslide")[t]}));if(ne){r(document.body,"glightbox-touch")}this.events["resize"]=o("resize",{onElement:window,withCallback:()=>{this.resize()}});this.built=true}resize(e=null){e=!e?this.activeSlide:e;if(!e||h(e,"zoomed")){return}const t=m();const i=e.querySelector(".gvideo-wrapper");const s=e.querySelector(".gslide-image");const n=this.slideDescription;let l=t.width;let o=t.height;if(l<=768){r(document.body,"glightbox-mobile")}else{a(document.body,"glightbox-mobile")}if(!i&&!s){return}let d=false;if(n&&(h(n,"description-bottom")||h(n,"description-top"))&&!h(n,"gabsolute")){d=true}if(s){if(l<=768){}else if(d){let e=n.offsetHeight;let t=s.querySelector("img");t.setAttribute("style",`max-height: calc(100vh - ${e}px)`);n.setAttribute("style",`max-width: ${t.offsetWidth}px;`)}}if(i){let e=P(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!e){const t=i.clientWidth;const s=i.clientHeight;const n=t/s;e=`${t/n}:${s/n}`}let t=e.split(":");let s=this.settings.videosWidth;let r=this.settings.videosWidth;if(X(s)||s.indexOf("px")!==-1){r=parseInt(s)}else{if(s.indexOf("vw")!==-1){r=l*parseInt(s)/100}else if(s.indexOf("vh")!==-1){r=o*parseInt(s)/100}else if(s.indexOf("%")!==-1){r=l*parseInt(s)/100}else{r=parseInt(i.clientWidth)}}let a=r/(parseInt(t[0])/parseInt(t[1]));a=Math.floor(a);if(d){o=o-n.offsetHeight}if(r>l||a>o||o<a&&l>r){let e=i.offsetWidth;let t=i.offsetHeight;let s=o/t;let l={width:e*s,height:t*s};i.parentNode.setAttribute("style",`max-width: ${l.width}px`);if(d){n.setAttribute("style",`max-width: ${l.width}px;`)}}else{i.parentNode.style.maxWidth=`${s}`;if(d){n.setAttribute("style",`max-width: ${s};`)}}}}reload(){this.init()}updateNavigationClasses(){const e=this.loop();a(this.nextButton,"disabled");a(this.prevButton,"disabled");if(this.index==0&&this.elements.length-1==0){r(this.prevButton,"disabled");r(this.nextButton,"disabled")}else if(this.index===0&&!e){r(this.prevButton,"disabled")}else if(this.index===this.elements.length-1&&!e){r(this.nextButton,"disabled")}}loop(){let e=P(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;e=P(this.settings,"loop")?this.settings.loop:e;return e}close(){if(!this.lightboxOpen){if(this.events){for(let e in this.events){if(this.events.hasOwnProperty(e)){this.events[e].destroy()}}this.events=null}return false}if(this.closing){return false}this.closing=true;this.slidePlayerPause(this.activeSlide);if(this.fullElementsList){this.elements=this.fullElementsList}if(this.bodyHiddenChildElms.length){n(this.bodyHiddenChildElms,(e=>{e.removeAttribute("aria-hidden")}))}r(this.modal,"glightbox-closing");c(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out);c(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(()=>{this.activeSlide=null;this.prevActiveSlideIndex=null;this.prevActiveSlide=null;this.built=false;if(this.events){for(let e in this.events){if(this.events.hasOwnProperty(e)){this.events[e].destroy()}}this.events=null}const e=document.body;a(le,"glightbox-open");a(e,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer");this.modal.parentNode.removeChild(this.modal);this.trigger("close");if(C(this.settings.onClose)){this.settings.onClose()}const t=document.querySelector(".gcss-styles");if(t){t.parentNode.removeChild(t)}this.lightboxOpen=false;this.closing=null}))}destroy(){this.close();this.clearAllEvents();if(this.baseEvents){this.baseEvents.destroy()}}on(e,t,i=false){if(!e||!C(t)){throw new TypeError("Event name and callback must be defined")}this.apiEvents.push({evt:e,once:i,callback:t})}once(e,t){this.on(e,t,true)}trigger(e,t=null){const i=[];n(this.apiEvents,((s,n)=>{const{evt:l,once:o,callback:r}=s;if(l==e){r(t);if(o){i.push(n)}}}));if(i.length){n(i,(e=>this.apiEvents.splice(e,1)))}}clearAllEvents(){this.apiEvents.splice(0,this.apiEvents.length)}version(){return ie}}function ae(e={}){const t=new re(e);try{t.init()}catch(e){console.error(e)}return t}if(typeof window!=="undefined"){window.GLightbox=ae}t=t["default"];return t})()}));